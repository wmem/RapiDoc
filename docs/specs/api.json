{"openapi":"3.0.0","components":{"schemas":{"github.com.wmem.gtask.tasks.control.relay.ModbusCoilInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"},"serial":{"default":"COM0","description":"串口名称(/dev/ttyUSB0 or COM0)","format":"string","type":"string"},"baudrate":{"default":115200,"description":"串口波特率","enum":[115200,19200,9600],"format":"uint32","type":"integer"},"addr_dev":{"default":1,"description":"Modbus设备地址","format":"uint8","maximum":254,"minimum":1,"type":"integer"},"addr_coil":{"default":0,"description":"线圈地址","format":"uint16","maximum":2000,"minimum":0,"type":"integer"},"operation":{"default":"on","description":"操作('on' or 'off')","enum":["on","off"],"format":"string","type":"string"}},"required":["name","owner","serial","baudrate","addr_dev","addr_coil","operation"],"type":"object"},"github.com.wmem.gtask.tasks.control.relay.WorkerModbusCoilRes":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilOutput","description":""}},"type":"object"},"github.com.wmem.gtask.tasks.control.relay.ModbusCoilOutput":{"properties":{"value":{"description":"继电器控制数据","format":"binary","type":"string"}},"type":"object"},"interface":{"properties":{},"type":"object"},"github.com.wmem.gtask.tasks.control.relay.ModbusCoilsInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"},"serial":{"default":"COM0","description":"串口名称(/dev/ttyUSB0 or COM0)","format":"string","type":"string"},"baudrate":{"default":115200,"description":"串口波特率","enum":[115200,19200,9600],"format":"uint32","type":"integer"},"addr":{"default":1,"description":"Modbus设备地址","format":"uint8","maximum":254,"minimum":1,"type":"integer"},"coils":{"default":16,"description":"继电器通道数","format":"uint8","maximum":32,"minimum":1,"type":"integer"},"value":{"default":0,"description":"继电器控制数据(每个bit代表一个继电器)","format":"uint32","type":"integer"}},"required":["name","owner","serial","baudrate","addr","coils","value"],"type":"object"},"github.com.wmem.gtask.tasks.control.relay.WorkerModbusCoilsRes":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilsOutput","description":""}},"type":"object"},"github.com.wmem.gtask.tasks.control.relay.ModbusCoilsOutput":{"properties":{"value":{"description":"继电器控制数据","format":"binary","type":"string"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksDeleteReq":{"description":"删除指定任务","properties":{"uuid":{"description":"任务uuid列表,如果ALL参数没有设置,该参数必须设置","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksDeleteRes":{"properties":{"items":{"description":"任务操作结果","format":"[]common.TaskOperationResult","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskOperationResult","description":""},"type":"array"},"total":{"description":"总操作数量","format":"int","type":"integer"},"success":{"description":"成功数量","format":"int","type":"integer"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TaskOperationResult":{"properties":{"uuid":{"description":"任务uuid","format":"string","type":"string"},"result":{"description":"操作结果","format":"string","type":"string"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksDocReq":{"description":"获取所有支持的任务接口文档","properties":{},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksDocRes":{"properties":{"items":{"format":"[]common.TaskDoc","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskDoc","description":""},"type":"array"},"total":{"format":"int","type":"integer"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TaskDoc":{"properties":{"path":{"format":"string","type":"string"},"summary":{"format":"string","type":"string"},"tags":{"format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"desc":{"format":"string","type":"string"},"input":{"additionalProperties":{"additionalProperties":{"$ref":"#/components/schemas/interface","description":""},"format":"*common.FiledInfo","type":"object"},"format":"common.StructMeta","type":"object"},"output":{"additionalProperties":{"additionalProperties":{"$ref":"#/components/schemas/interface","description":""},"format":"*common.FiledInfo","type":"object"},"format":"common.StructMeta","type":"object"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksInfoReq":{"description":"获取指定任务的信息","properties":{"owner":{"description":"任务所有者，如果指定了uuid,该参数无效","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksInfoRes":{"properties":{"items":{"description":"任务列表","format":"[]common.TaskInfo","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskInfo","description":""},"type":"array"},"total":{"description":"总任务数","format":"int","type":"integer"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TaskInfo":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksResultReq":{"description":"获取指定任务的执行结果","properties":{"uuid":{"description":"任务uuid","format":"string","type":"string"}},"required":["uuid"],"type":"object"},"github.com.wmem.gtask.tasks.common.TasksResultRes":{"properties":{"state":{"description":"任务状态","format":"string","type":"string"},"result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskResult","description":"任务执行结果"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TaskResult":{"properties":{"msg":{"description":"任务执行结束时的信息","format":"string","type":"string"},"data":{"$ref":"#/components/schemas/interface","description":""}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksStopReq":{"description":"结束指定任务","properties":{"uuid":{"description":"任务uuid列表","format":"[]string","items":{"format":"string","type":"string"},"type":"array"}},"type":"object"},"github.com.wmem.gtask.tasks.common.TasksStopRes":{"properties":{"items":{"description":"任务操作结果","format":"[]common.TaskOperationResult","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskOperationResult","description":""},"type":"array"},"total":{"description":"总操作数量","format":"int","type":"integer"},"success":{"description":"成功数量","format":"int","type":"integer"}},"type":"object"},"github.com.wmem.gtask.tasks.test.CtoolsInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"},"run_time_second":{"description":"运行多长时间后结束(秒)","format":"int","minimum":1,"type":"integer"}},"required":["name","owner","run_time_second"],"type":"object"},"github.com.wmem.gtask.tasks.test.OneshotInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"}},"required":["name","owner"],"type":"object"},"github.com.wmem.gtask.tasks.test.WorkerOneshotRes":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.OneshotOutput","description":""}},"type":"object"},"github.com.wmem.gtask.tasks.test.OneshotOutput":{"properties":{"result1":{"description":"测试结果1","format":"int","type":"integer"},"result2":{"description":"测试结果2","format":"float32","type":"number"},"result3":{"description":"测试结果3","format":"bool","type":"boolean"}},"type":"object"},"github.com.wmem.gtask.tasks.test.SimpleInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"},"test1":{"description":"测试参数1","format":"[]string","items":{"format":"string","type":"string"},"type":"array"},"test2":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.SomeTestParam","description":"测试参数2"},"test3":{"description":"测试参数3","format":"[]test.SomeTestParam","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.SomeTestParam","description":""},"type":"array"},"test4":{"description":"测试参数4","format":"[]int","items":{"format":"int","type":"integer"},"type":"array"}},"required":["name","owner"],"type":"object"},"github.com.wmem.gtask.tasks.test.SomeTestParam":{"properties":{"result0":{"description":"参数0","format":"string","type":"string"},"result1":{"description":"参数1","format":"int","type":"integer"},"result2":{"description":"参数2","format":"float32","type":"number"},"result3":{"description":"参数3","format":"bool","type":"boolean"}},"type":"object"},"github.com.wmem.gtask.tasks.test.TimerInput":{"properties":{"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"auto_delete":{"description":"任务完成后是否自动删除(仅限同步任务)","format":"bool","type":"boolean"},"run_time_second":{"description":"运行多长时间后结束(秒)","format":"int","minimum":1,"type":"integer"}},"required":["name","owner","run_time_second"],"type":"object"}}},"info":{"title":"","version":""},"paths":{"/api/v1/control/relay/modbus-coil/output":{"post":{"description":"\n## 说明\n支持Modbus-RTU协议下的单线圈控制继电器, 可指定线圈地址, 最多支持2000个通道的继电器控制\n## 输入参数\n```json\n{\n    \"addr_coil\": {\n        \"d\": \"0\",\n        \"description\": \"线圈地址\",\n        \"max\": \"2000\",\n        \"min\": \"0\",\n        \"required\": true,\n        \"type\": \"uint16\"\n    },\n    \"addr_dev\": {\n        \"d\": \"1\",\n        \"description\": \"Modbus设备地址\",\n        \"max\": \"254\",\n        \"min\": \"1\",\n        \"required\": true,\n        \"type\": \"uint8\"\n    },\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"baudrate\": {\n        \"d\": \"115200\",\n        \"description\": \"串口波特率\",\n        \"in\": \"115200,19200,9600\",\n        \"required\": true,\n        \"type\": \"uint32\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"operation\": {\n        \"d\": \"on\",\n        \"description\": \"操作('on' or 'off')\",\n        \"in\": \"on,off\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"serial\": {\n        \"d\": \"COM0\",\n        \"description\": \"串口名称(/dev/ttyUSB0 or COM0)\",\n        \"required\": true,\n        \"type\": \"string\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"value\": {\n        \"description\": \"继电器控制数据\",\n        \"type\": \"[]uint8\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilOutput","description":""}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"modbus单线圈控制","tags":["外部设备控制-继电器"]}},"/api/v1/control/relay/modbus-coils/output":{"post":{"description":"\n## 说明\n支持Modbus-RTU协议下的多线圈控制继电器, 线圈地址从0开始, 最多支持32个通道的继电器控制,每个bit代表一个继电器\n## 输入参数\n```json\n{\n    \"addr\": {\n        \"d\": \"1\",\n        \"description\": \"Modbus设备地址\",\n        \"max\": \"254\",\n        \"min\": \"1\",\n        \"required\": true,\n        \"type\": \"uint8\"\n    },\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"baudrate\": {\n        \"d\": \"115200\",\n        \"description\": \"串口波特率\",\n        \"in\": \"115200,19200,9600\",\n        \"required\": true,\n        \"type\": \"uint32\"\n    },\n    \"coils\": {\n        \"d\": \"16\",\n        \"description\": \"继电器通道数\",\n        \"max\": \"32\",\n        \"min\": \"1\",\n        \"required\": true,\n        \"type\": \"uint8\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"serial\": {\n        \"d\": \"COM0\",\n        \"description\": \"串口名称(/dev/ttyUSB0 or COM0)\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"value\": {\n        \"d\": \"0\",\n        \"description\": \"继电器控制数据(每个bit代表一个继电器)\",\n        \"required\": true,\n        \"type\": \"uint32\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"value\": {\n        \"description\": \"继电器控制数据\",\n        \"type\": \"[]uint8\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilsInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.control.relay.ModbusCoilsOutput","description":""}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"modbus多线圈控制","tags":["外部设备控制-继电器"]}},"/api/v1/tasks/delete":{"post":{"description":"删除指定任务","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TasksDeleteReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"items":{"description":"任务操作结果","format":"[]common.TaskOperationResult","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskOperationResult","description":""},"type":"array"},"total":{"description":"总操作数量","format":"int","type":"integer"},"success":{"description":"成功数量","format":"int","type":"integer"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"删除任务","tags":["任务管理"]}},"/api/v1/tasks/doc":{"get":{"description":"获取所有支持的任务接口文档","responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"items":{"format":"[]common.TaskDoc","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskDoc","description":""},"type":"array"},"total":{"format":"int","type":"integer"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"获取任务接口文档","tags":["任务管理"]}},"/api/v1/tasks/info":{"get":{"description":"获取指定任务的信息","parameters":[{"description":"任务所有者，如果指定了uuid,该参数无效","in":"query","name":"owner","schema":{"description":"任务所有者，如果指定了uuid,该参数无效","format":"string","type":"string"}},{"description":"任务uuid","in":"query","name":"uuid","schema":{"description":"任务uuid","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"items":{"description":"任务列表","format":"[]common.TaskInfo","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskInfo","description":""},"type":"array"},"total":{"description":"总任务数","format":"int","type":"integer"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"获取任务信息","tags":["任务管理"]}},"/api/v1/tasks/result":{"get":{"description":"获取指定任务的执行结果","parameters":[{"description":"任务uuid","in":"query","name":"uuid","required":true,"schema":{"description":"任务uuid","format":"string","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"state":{"description":"任务状态","format":"string","type":"string"},"result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskResult","description":"任务执行结果"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"获取任务执行结果","tags":["任务管理"]}},"/api/v1/tasks/stop":{"post":{"description":"结束指定任务","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TasksStopReq","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"items":{"description":"任务操作结果","format":"[]common.TaskOperationResult","items":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.common.TaskOperationResult","description":""},"type":"array"},"total":{"description":"总操作数量","format":"int","type":"integer"},"success":{"description":"成功数量","format":"int","type":"integer"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"结束任务","tags":["任务管理"]}},"/api/v1/test/ctools":{"post":{"description":"\n## 说明\ngtask测试任务, 调用ctools.run执行测试任务,指定时间后自动完成任务, 结束时返回实际运行时间\n## 输入参数\n```json\n{\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"run_time_second\": {\n        \"description\": \"运行多长时间后结束(秒)\",\n        \"min\": \"1\",\n        \"required\": true,\n        \"type\": \"int\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"run_time_ms\": {\n        \"description\": \"实际运行时间(毫秒)\",\n        \"type\": \"uint32\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.CtoolsInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"ctools测试任务demo","tags":["任务管理测试/ctools"]}},"/api/v1/test/oneshot":{"post":{"description":"\n## 说明\ngtask测试任务, 创建任务返回的时候就执行完毕，模拟不需要异步等待的即时任务，可以指定自动删除达到同步的效果\n## 输入参数\n```json\n{\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"result1\": {\n        \"description\": \"测试结果1\",\n        \"type\": \"int\"\n    },\n    \"result2\": {\n        \"description\": \"测试结果2\",\n        \"type\": \"float32\"\n    },\n    \"result3\": {\n        \"description\": \"测试结果3\",\n        \"type\": \"bool\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.OneshotInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"},"Result":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.OneshotOutput","description":""}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"同步(即时)任务demo","tags":["任务管理/测试/oneshot"]}},"/api/v1/test/simple":{"post":{"description":"\ngtask测试任务, 这是一个简单测试任务，用于调试前后端工具的配合，\n该测试任务除了name和owner参数必须填入(所有任务都需要填),其他参数可以任意输入\n输出的参数是固定的，用来给前端调试参数的处理，可以忽略\n## 输入参数\n```json\n{\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"test1\": {\n        \"description\": \"测试参数1\",\n        \"type\": \"[]string\"\n    },\n    \"test2\": {\n        \"description\": \"测试参数2\",\n        \"obj\": {\n            \"result0\": {\n                \"description\": \"参数0\",\n                \"type\": \"string\"\n            },\n            \"result1\": {\n                \"description\": \"参数1\",\n                \"type\": \"int\"\n            },\n            \"result2\": {\n                \"description\": \"参数2\",\n                \"type\": \"float32\"\n            },\n            \"result3\": {\n                \"description\": \"参数3\",\n                \"type\": \"bool\"\n            }\n        },\n        \"type\": \"object\"\n    },\n    \"test3\": {\n        \"description\": \"测试参数3\",\n        \"obj\": {\n            \"result0\": {\n                \"description\": \"参数0\",\n                \"type\": \"string\"\n            },\n            \"result1\": {\n                \"description\": \"参数1\",\n                \"type\": \"int\"\n            },\n            \"result2\": {\n                \"description\": \"参数2\",\n                \"type\": \"float32\"\n            },\n            \"result3\": {\n                \"description\": \"参数3\",\n                \"type\": \"bool\"\n            }\n        },\n        \"type\": \"[]object\"\n    },\n    \"test4\": {\n        \"description\": \"测试参数4\",\n        \"type\": \"[]int\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"result0\": {\n        \"description\": \"测试结果0\",\n        \"type\": \"[]string\"\n    },\n    \"result1\": {\n        \"description\": \"测试结果1\",\n        \"type\": \"int\"\n    },\n    \"result2\": {\n        \"description\": \"测试结果2\",\n        \"type\": \"float32\"\n    },\n    \"result3\": {\n        \"description\": \"测试结果3\",\n        \"type\": \"bool\"\n    },\n    \"result4\": {\n        \"description\": \"测试结果4\",\n        \"obj\": {\n            \"result0\": {\n                \"description\": \"参数0\",\n                \"type\": \"string\"\n            },\n            \"result1\": {\n                \"description\": \"参数1\",\n                \"type\": \"int\"\n            },\n            \"result2\": {\n                \"description\": \"参数2\",\n                \"type\": \"float32\"\n            },\n            \"result3\": {\n                \"description\": \"参数3\",\n                \"type\": \"bool\"\n            }\n        },\n        \"type\": \"object\"\n    },\n    \"result5\": {\n        \"description\": \"测试结果4\",\n        \"obj\": {\n            \"result0\": {\n                \"description\": \"参数0\",\n                \"type\": \"string\"\n            },\n            \"result1\": {\n                \"description\": \"参数1\",\n                \"type\": \"int\"\n            },\n            \"result2\": {\n                \"description\": \"参数2\",\n                \"type\": \"float32\"\n            },\n            \"result3\": {\n                \"description\": \"参数3\",\n                \"type\": \"bool\"\n            }\n        },\n        \"type\": \"[]object\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.SimpleInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"简单服务","tags":["任务管理/测试"]}},"/api/v1/test/timer":{"post":{"description":"\ngtask测试任务, 这是一个定时任务，指定时间后自动完成任务，返回调试数据\n## 输入参数\n```json\n{\n    \"auto_delete\": {\n        \"description\": \"任务完成后是否自动删除(仅限同步任务)\",\n        \"type\": \"bool\"\n    },\n    \"name\": {\n        \"description\": \"任务名称\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"owner\": {\n        \"description\": \"任务所有者\",\n        \"required\": true,\n        \"type\": \"string\"\n    },\n    \"run_time_second\": {\n        \"description\": \"运行多长时间后结束(秒)\",\n        \"min\": \"1\",\n        \"required\": true,\n        \"type\": \"int\"\n    }\n}\n```\n## 输出参数\n```json\n{\n    \"result0\": {\n        \"type\": \"string\"\n    },\n    \"result1\": {\n        \"type\": \"int\"\n    },\n    \"result2\": {\n        \"type\": \"float32\"\n    },\n    \"result3\": {\n        \"type\": \"bool\"\n    }\n}\n```\n","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/github.com.wmem.gtask.tasks.test.TimerInput","description":""}}}},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"status":{"format":"int","type":"integer"},"msg":{"format":"string","type":"string"},"data":{"properties":{"id":{"description":"任务ID","format":"int","type":"integer"},"api":{"description":"API信息","format":"string","type":"string"},"name":{"description":"任务名称","format":"string","type":"string"},"owner":{"description":"任务所有者","format":"string","type":"string"},"uuid":{"description":"任务uuid","format":"string","type":"string"},"create_at":{"description":"创建时间(local_utc_ns)","format":"int64","type":"integer"},"update_at":{"description":"更新时间(local_utc_ns)","format":"int64","type":"integer"},"state":{"description":"任务状态","format":"string","type":"string"}},"type":"object"}},"type":"object"}}},"description":""}},"summary":"定时任务","tags":["任务管理/测试/timer"]}}}}